<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Daintree Mockup" />
    <meta name="author" content="" />
    <title>Daintree Forest</title>

    <link rel="canonical" href="http://localhost:4000" />

    <link rel="stylesheet" href="/daintree_forest/assets/css/styles.css" />
    <link rel="icon" href="/daintree_forest/assets/img/favicons/favicon.ico" />
    
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.css' rel='stylesheet' />

    <script src="https://unpkg.com/intersection-observer@0.12.2/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <meta name="theme-color" content="#712cf9" />
  </head>
  <body>
      <main>
        <!-- 
    https://github.com/russellsamora/scrollama 
    https://github.com/dkaoster/scrolly-video
    https://www.pexels.com/search/videos/rainforest/
    https://trvswgnr.github.io/bs5-lightbox/#installation

-->
<section id="intro" class="my-5 py-5">

  <div class="container px-4 py-5 my-5">
    <h1 class="display-5">Daintree Forest</h1>
    <h2 class="">A Walk</h2>
    <p>&ndash;by Charles Henry</p>

    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">
        Intro Lorem ipsum dolor sit amet consectetur adipisicing elit. In ipsum facere excepturi, nam temporibus qui sapiente veniam animi dolore veritatis? Voluptatem itaque hic quibusdam quam sunt cum, numquam eius consequuntur!
      </p>
      <div class="my-5 py-5 d-grid gap-2 d-sm-flex justify-content-sm-center">
        <a href="#scrolly-video" class="link-dark">
          <i class="bi bi-arrow-down-circle" style="font-size:5rem;"></i>
        </a>
      </div>
    </div>
  </div>
</section>


<div class="video-container" style="height: 300vh">
  <div id="scrolly-video"></div>
  <div class="card2">
    <p>We are here, a green and drowsy light.</p>
  </div>
  <div class="card2">
    <p>How old you think?</p>
  </div>
</div>


<section id="forest" class="parralax py-5">

  <div class="container my-5" >
    <div class="bg-light bg-opacity-60 row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
      <div class="col p-3 p-lg-5 pt-lg-3">
        <p class="lead">
          This forest&ndash; 120 million years. Protected, so our touch is slight. Look
          again: mosses springing void our step as if we are not here.
        </p> 
      </div>
      
    </div>
  </div>
<!--
  <div class="container py-lg-5">
    <div class="row py-lg-5">
      <div class="col py-lg-5 my-lg-5">

        <div class="bg-success p-2 text-dark bg-opacity-10">This is 10% opacity success background</div>

      <p class="fs-1 text-light">
        This forest-- 120 million years. Protected, so our touch is slight. Look
        again: mosses springing void our step as if we are not here.
      </p>
    </div>
    </div>
  </div>
  -->
</section>

<section id="dinosaurs" class="bg-light">
  <div class="container pt-5">

    <p>Ancestor trees conjured seeds when dinosaurs&ndash;</p>
    <p>
      Yes. Out of time, the yellow robins, fairywrens. Honeyeaters at their
      promiscuous bloom.
    </p>
    <p>If we do not act?</p>

    
    <div class="d-flex justify-content-center">
      <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.2"></script>

<!-- https://github.com/avatorl/Deneb-Vega/ -->

<style media="screen">
  /* Add space between Vega-Embed links  */
  .vega-actions a {
    margin-right: 5px;
  }
</style>

<div id="vis"></div>

<script>
  // Assign the specification to a local variable vlSpec.
  // https://github.com/avatorl/Deneb-Vega/tree/main/warming-stripe
var vlSpec = {
        "$schema": "https://vega.github.io/schema/vega/v5.json",
        "description": "Warming Stripes Chart. Originally designed by Ed Hawkins.",
        "usermeta": {
        "Author": "Andrzej Leszkiewicz",
        "Github": "https://github.com/avatorl/Deneb-Vega/",
        "License": "CC BY 4.0 (Share and Adapt with Attribution)",
        "Original Idea Author": "Ed Hawkins",
        "Original Idea URL": "https://www.climate-lab-book.ac.uk/2018/warming-stripes/",
        "Read More URL": "https://en.wikipedia.org/wiki/Warming_stripes",
        "Data Source URL": "https://climate.nasa.gov/vital-signs/global-temperature/"
        },
        "background": "#F8F9FA",
        "width": 650,
        "height": 200,
        "padding": 10,
        "autosize": "pad",
        "config": {},
        "signals": [
          {"name": "fontMain", "value": "Tahoma"},
          {"name": "labelColor", "value": "#808080"},
          {"name": "labelDataSrcColor", "value": "#CCCCCC"},
          {"name": "basePeriodColor", "value": "black"},
          {"name": "titleFontSize", "value": "16"},
          {"name": "labelFontSizeMajor", "value": "20"},
          {"name": "labelFontSizeMinor", "value": "14"},
          {"name": "legendFontSize", "value": "12"},
          {"name": "labelDataSrcFontSize", "value": "12"},
          {"name": "basePeriodS", "value": "1951"},
          {"name": "basePeriodE", "value": "1980"},
          {
              "name": "selectedStripeTemp",
              "description": "Temperature in the selected year (stripe). To dispaly as a tick on the legend.",
              "value": "0",
              "on": [
              {"events": "@stripe:mouseover", "update": "datum.temp"},
              {"events": "@stripe:mouseout", "update": "0"}
              ]
          }
        ],
        "data": [
        {
            "name": "dataset",
            "url": "https://raw.githubusercontent.com/avatorl/Deneb-Vega/main/warming-stripe/global-temp.csv",
            "format": {"type": "csv", "parse": "auto", "delimiter": ","}
        }
        ],
        "scales": [
        {
            "name": "scaleX",
            "type": "linear",
            "domain": {"data": "dataset", "field": "year"},
            "range": [0, {"signal": "width"}],
            "zero": false
        },
        {
            "name": "scaleY",
            "type": "point",
            "domain": [1],
            "range": [0, {"signal": "height"}]
        },
        {
            "name": "scaleYForLegendTick",
            "type": "linear",
            "domain": {"data": "dataset", "field": "temp"},
            "range": [0, {"signal": "height"}],
            "zero": false,
            "reverse": true
        },
        {
            "name": "colorHawkins",
            "type": "linear",
            "range": {
            "scheme": [
                "#67000D",
                "#A50F15",
                "#CB181D",
                "#EF3B2C",
                "#FB6A4A",
                "#FC9272",
                "#FCBBA1",
                "#FEE0D2",
                "#FFFFFF",
                "#DEEBF7",
                "#C6DBEF",
                "#9ECAE1",
                "#6BAED6",
                "#4292C6",
                "#2171B5",
                "#08519C",
                "#08306B"
            ]
            },
            "domain": {"data": "dataset", "field": "temp"},
            "reverse": true,
            "domainMid": 0
        }
        ],
        "title": {
        "text": {
            "signal": "'Global Temperature in 1880-2021 (compared to '+ basePeriodS+'-'+basePeriodE+' average)'"
        },
        "anchor": "start",
        "font": {"signal": "fontMain"},
        "fontSize": {"signal": "titleFontSize"},
        "fontWeight": "lighter",
        "subtitle": "Reproduction of 'warming stripes' chart originally designed by Ed Hawkins",
        "subtitlePadding": 5
        },
        "axes": [
        {
            "scale": "scaleX",
            "orient": "bottom",
            "domain": false,
            "tickCount": {"signal": "5"},
            "labelColor": {"signal": "labelColor"},
            "format": ".4",
            "encode": {
            "ticks": {"update": {"y": {"value": -3}}},
            "labels": {
                "update": {
                "y": {"value": 8},
                "fontSize": {
                    "signal": "(datum.value==1900||datum.value==2000)?labelFontSizeMajor:labelFontSizeMinor"
                }
                }
            }
            }
        },
        {
            "scale": "scaleX",
            "orient": "top",
            "domain": true,
            "tickCount": {"signal": "length(data('dataset'))"},
            "labelFontSize": {"signal": "0"},
            "format": ".4",
            "encode": {
            "ticks": {
                "enter": {
                "stroke": {"signal": "basePeriodColor"},
                "strokeWidth": {
                    "signal": "(datum.value==basePeriodS||datum.value==basePeriodE)?1:0"
                }
                }
            },
            "labels": {
                "enter": {"fill": {"signal": "basePeriodColor"}},
                "update": {
                "fontSize": {
                    "signal": "(datum.value==basePeriodS||datum.value==basePeriodE)?labelFontSizeMinor:0"
                }
                }
            },
            "domain": {
                "enter": {"stroke": {"signal": "basePeriodColor"}},
                "update": {
                "x": {"scale": "scaleX", "signal": "basePeriodS"},
                "x2": {"scale": "scaleX", "signal": "basePeriodE"},
                "strokeWidth": {"signal": "0.9"}
                }
            }
            }
        },
        {
            "scale": "scaleYForLegendTick",
            "orient": "right",
            "domain": false,
            "labels": false,
            "ticks": true,
            "tickColor": "black",
            "offset": 45,
            "encode": {
            "ticks": {
                "update": {
                "x": {"value": -7},
                "x2": {"value": 13},
                "y": {
                    "scale": "scaleYForLegendTick",
                    "signal": "selectedStripeTemp"
                },
                "strokeWidth": {"signal": "datum.value==0?0.5:0"}
                }
            }
            }
        }
        ],
        "legends": [
        {
            "fill": "colorHawkins",
            "orient": "none",
            "legendX": {"signal": "width+40"},
            "legendY": -40,
            "padding": 20,
            "title": "°C",
            "titleColor": "gray",
            "tickCount": 10,
            "tickMinStep": 0.2,
            "titleFontSize": {"signal": "labelFontSizeMinor"},
            "encode": {
            "labels": {
                "enter": {
                "dx": {"value": 3},
                "fontSize": {"signal": "legendFontSize"},
                "fill": {"signal": "labelColor"}
                },
                "update": {
                "text": {
                    "signal": "(datum.value>0?'+':datum.value==0?'':'')+datum.label"
                }
                }
            }
            }
        }
        ],
        "marks": [
        {
            "name": "stripe",
            "type": "rect",
            "interactive": true,
            "from": {"data": "dataset"},
            "encode": {
            "update": {
                "fill": {"scale": "colorHawkins", "field": "temp"},
                "opacity": {"value": 1},
                "height": {"signal": "height*0.92"},
                "width": {"signal": "4.0"},
                "stroke": {"value": "gray"},
                "strokeWidth": {"value": 0},
                "xc": {"scale": "scaleX", "field": "year"},
                "yc": {"scale": "scaleY", "value": 1},
                "tooltip": {
                "signal": "datum.year+': '+(datum.temp>0?'+':'')+datum.temp+'°C'"
                }
            },
            "hover": {
                "y": {"value": 3},
                "height": {"signal": "height*0.92+10"},
                "width": {"signal": "4.2"},
                "strokeWidth": {"value": 0.05}
            }
            }
        },
        {
            "name": "labelDataSource",
            "type": "text",
            "encode": {
            "enter": {
                "fill": {"signal": "labelDataSrcColor"},
                "text": {"value": "Data Source: NASA 🔗"},
                "href": {
                "value": "https://climate.nasa.gov/vital-signs/global-temperature/"
                },
                "cursor": {"value": "pointer"}
            },
            "update": {
                "opacity": {"value": 1},
                "x": {"signal": "width"},
                "y": {"signal": "height+50"},
                "fontSize": {"signal": "labelDataSrcFontSize"}
            }
            }
        }
        ]
    };


// Embed the visualization in the container with id `vis`
vegaEmbed('#vis', vlSpec);
</script>
    </div>
  </div>
</section>

<script src="https://d3js.org/d3.v7.min.js"></script>

<section id="scrolly">
    <!-- https://russellsamora.github.io/scrollama/sticky-side/ -->
    <article>
      <div class="step" data-step="1">
        <img class="img-fluid" src="/daintree_forest/assets/img/hamish-weir-q8Jb1md-8k8-unsplash.jpg" alt="">
        <p>The falls</p>
      </div>
      <div class="step" data-step="2">
        <img class="img-fluid" src="/daintree_forest/assets/img/zac-porter-tzA9aoQxp_8-unsplash.jpg" alt="">

        <p>STEP 2</p>
      </div>
      <div class="step" data-step="3">
        <img class="img-fluid" src="/daintree_forest/assets/img/kasia-derenda-2cxD8P_6WXU-unsplash.jpg" alt="">

        <p>STEP 3</p>
      </div>
      <div class="step" data-step="4">
        <img class="img-fluid" src="/daintree_forest/assets/img/kasia-derenda-DTG0w8TSP-g-unsplash.jpg" alt="">

        <p>STEP 4</p>
      </div>
    </article>
  
    <figure>
      <p>0</p>
    </figure>
  
    <script>
      var main = d3.select("main");
          var scrolly = main.select("#scrolly");
          var figure = scrolly.select("figure");
          var article = scrolly.select("article");
          var step = article.selectAll(".step");
  
          // initialize the scrollama
          var scroller = scrollama();
  
          // generic window resize listener event
          function handleResize() {
              // 1. update height of step elements
              var stepH = Math.floor(window.innerHeight * 0.75);
              step.style("height", stepH + "px");
  
              var figureHeight = window.innerHeight / 2;
              var figureMarginTop = (window.innerHeight - figureHeight) / 2;
  
              figure
                  .style("height", figureHeight + "px")
                  .style("top", figureMarginTop + "px");
  
              // 3. tell scrollama to update new element dimensions
              scroller.resize();
          }
  
          // scrollama event handlers
          function handleStepEnter(response) {
              console.log(response);
              // response = { element, direction, index }
  
              // add color to current step only
              step.classed("is-active", function (d, i) {
                  return i === response.index;
              });
  
              // update graphic based on step
              figure.select("p").text(response.index + 1);
          }
  
          function init() {
  
              // 1. force a resize on load to ensure proper dimensions are sent to scrollama
              handleResize();
  
              // 2. setup the scroller passing options
              // 		this will also initialize trigger observations
              // 3. bind scrollama event handlers (this can be chained like below)
              scroller
                  .setup({
                      step: "#scrolly article .step",
                      offset: 0.33,
                      debug: false
                  })
                  .onStepEnter(handleStepEnter);
          }
  
          // kick things off
          init();
    </script>
  </section>

<section id="" class="bg-dark text-light">
    <div class="container mt-5 pt-5">
        <p>
            Here is a past so deep our mind meanders to an airy thinness where thoughts cannot form, a phantom rustle.  Our choice: this scape may surge and recompass a new world, so warm and damp persistently.  Stand by the ribbonwood, the languorous palm, imagine the quiet roll of eon upon eon come and gone; now look again, identical: the future. You and I a momentary seam and slightest fiction. Before we were and after this is.
        </p>

        <!-- https://trvswgnr.github.io/bs5-lightbox/#installation -->


<div class="row" id="lightbox">
	<a href="https://unsplash.it/1200/768.jpg?image=251" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=251" class="img-fluid">
	</a>
	<a href="https://unsplash.it/1200/768.jpg?image=252" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=252" class="img-fluid">
	</a>
	<a href="https://unsplash.it/1200/768.jpg?image=253" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=253" class="img-fluid">
	</a>
</div>
<div class="row">
	<a href="https://unsplash.it/1200/768.jpg?image=254" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=254" class="img-fluid">
	</a>
	<a href="https://unsplash.it/1200/768.jpg?image=255" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=255" class="img-fluid">
	</a>
	<a href="https://unsplash.it/1200/768.jpg?image=256" data-toggle="lightbox" data-gallery="example-gallery" class="col-sm-4">
		<img src="https://unsplash.it/600.jpg?image=256" class="img-fluid">
	</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

    </div>
</section>

<section id="trail" class="parralax">
<div class="container text-light pt-5">
    <p>A trail. </p>
    <p>

        The foot path to Mt. Sorrow. From there the shore, its azure slap primeval, and beneath that fulsome round a bygone adumbration stirs, till human voices wake it, and we drown. 
        </p>
        <p class="float-end">
            <em>From the Pangia series Look Again.</em>
        </p>
</div>
</section>

<script src="/daintree_forest/assets/js/components.js"></script>

<script src="https://cdn.jsdelivr.net/npm/scrolly-video@latest/dist/scrolly-video.js"></script>
<script type="text/javascript">
  new ScrollyVideo({
    scrollyVideoContainer: "scrolly-video",
    src: "/daintree_forest/assets/video/cliff.mp4",
    cover: true,
  });
</script>

      </main>

    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    ></script>
  </body>
</html>
